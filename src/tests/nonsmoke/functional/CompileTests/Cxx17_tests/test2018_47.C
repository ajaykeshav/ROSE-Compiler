// Selection statements with initializer

typedef int status_code;
// int SUCCESS = 1;
// int bar();

status_code foo() 
   {   
     switch (Foo gadget(args); auto s = gadget.status())
        {
          case OK: 
               gadget.zip(); 
               break;
          case Bad: 
               throw BadFoo(s.message());
        }

#if 0
     if (status_code c = bar(); c != SUCCESS)
        {
          return c;
        }
#endif
   }


